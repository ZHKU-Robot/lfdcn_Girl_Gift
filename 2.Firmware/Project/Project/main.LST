C51 COMPILER V9.60.0.0   MAIN                                                              12/06/2020 14:28:35 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\keil4\C51\BIN\C51.EXE main.c LARGE OPTIMIZE(8,SPEED) BROWSE NOAREGS INCDIR(..\Public;..\User\GPI
                    -O;..\User\PWM;..\User\Timer;..\User\ADC;..\User\Compare;..\User\DataFlash;..\User\IAP;..\User\SPI;..\User\TouchKey;..\Us
                    -er\USB\USB_LIB;..\User\IIC;..\User\UART;..\User\Timer;..\User\RZ) DEBUG OBJECTEXTEND

line level    source

   1          
   2          /********************************** (C) COPYRIGHT *******************************
   3          * File Name          : main.C
   4          * Author             : lfdcn
   5          * Version            : V1.0
   6          * Date               : 2020.11.27
   7          * Description        : ‰∏ªÁ®ãÂ∫è
   8          *******************************************************************************/
   9          #include "Debug.H"
  10          #include <CH552.H>
  11          #include "UART.H"
  12          #include "I2C.H"
  13          #include "GPIO.H"
  14          #include <stdio.h>
  15          #include <string.h>
  16          #include "RZ.H"
  17          
  18          #pragma  NOAREGS
  19          
  20          void LM75A_GetTemp( );
  21          
  22          bit LM75_N;//Ê∏©Â∫¶ÂÄºÁöÑÁ¨¶Âè∑Ôºà0Ê≠£1Ë¥üÔºâ
  23          UINT8 LM75_T,LM75_P;//Ê∏©Â∫¶ÂÄºÁöÑÊï¥Êï∞,Â∞èÊï∞ÂÄºÔºàÂçÅËøõÂà∂ÔºåÂ∞èÊï∞ÂÄº2‰ΩçÔºåÁ≤æÂ∫¶0.125‰∏≠ÁöÑÂâç‰∏§‰Ω
             -çÔºâ
  24          UINT8 rz[24];
  25          UINT8 RGB[3]={0xFF,0xFF,0xFF};
  26          
  27          sbit LM75_ADDR = P1^1;
  28          
  29          struct My_24bits RGB_VAL;
  30          
  31          void main( )
  32          {
  33   1              CfgFsys( );                                                                //CH552Êó∂ÈíüÈÄâÊã©ÈÖçÁΩÆ
  34   1              mDelaymS(20);
  35   1              UART0_Init( );                                                             //‰∏≤Âè£0ÂàùÂßãÂåñ
  36   1              printf("start\n");
  37   1      
  38   1              Port1Cfg(1,1);
  39   1              Port1Cfg(1,4);
  40   1              Port1Cfg(1,7);
  41   1              Port1Cfg(1,5);
  42   1              Port1Cfg(1,6);
  43   1              Port3Cfg(1,3);
  44   1              Port3Cfg(1,4);
  45   1              
  46   1              LM75_ADDR = 1;
  47   1              printf("%d %d %d\n",RGB[0],RGB[1],RGB[2]);
  48   1              
  49   1              RGB_VAL.G_VAL = 0x00;
  50   1              RGB_VAL.B_VAL = 0XFF;
  51   1              RGB_VAL.R_VAL = 0x00;
  52   1              
C51 COMPILER V9.60.0.0   MAIN                                                              12/06/2020 14:28:35 PAGE 2   

  53   1              Send_24bits(RGB_VAL);
  54   1              ResetDataFlow( );
  55   1              
  56   1              while(1) {
  57   2      //              LM75A_GetTemp( );
  58   2      //              mDelaymS(1000);
  59   2                      Send_24bits(RGB_VAL);
  60   2      //              RZ_SendByte(RGB);
  61   2      //              printf("%d %d %d\n",RGB[0],RGB[1],RGB[2]);
  62   2      //              printf("%d %d %d\n",RGB_VAL.G_VAL,RGB_VAL.B_VAL,RGB_VAL.R_VAL);
  63   2              }
  64   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    182    ----
   CONSTANT SIZE    =     17    ----
   XDATA SIZE       =     32    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
